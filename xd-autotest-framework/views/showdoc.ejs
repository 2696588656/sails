<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>展示接口文档</title>
  <% include common/header.ejs %>
  <script type="text/javascript">

    function hello(){
      for(var i = 0, l = data.length; i < l; i++) {
        alert(data[i]);
      }
    }

    function ha(){
      alert("bye");
    }

    function go(){

      event.returnValue = "真的要退出吗？";

    }
    //遍历页面上所有的输入框
    function reSource(){
      var obj = document.getElementsByTagName("input");
      for(var i = 0;i < obj.length; i++){
        for(var i = 0;i < obj.length; i++){
          var value
          if (obj[i].name == "url"){
            value = "url" + obj[i].value;
          }else if(obj[i].name == "header-key"){
            value = "header-key" + obj[i].value;
          }else if(obj[i].name == "header-value"){
            value = "header-value" + obj[i].value;
          }else if(obj[i].name == "parameter-key"){
            value = "parameter-key" + obj[i].value;
          }else if(obj[i].name == "parameter-value"){
            value = "parameter-value" + obj[i].value;
          }
          alert(value);
        }
      }
    }
  </script>
</head>
<body onload="hello()">

<p>展示可编辑的接口文档</p>
<br />
<form>
  <div>
    <p>url</p>
    <input type="text" name="url" id="url" tabindex="1" class="input-text-light" placeholder="目标URL" value="<%- data.url %>">
  </div>
  <br />
  <p>header</p>
  <br />
  <input type="text" name="header-key" id="url" tabindex="2" class="input-text-light" placeholder="key" value="<%- data.headerkey %>">
  <input type="text" name="header-value" id="url" tabindex="3" class="input-text-light" placeholder="value">
  <p>parameter</p>
  <br />
  <input type="text" name="parameter-key" id="url" tabindex="4" class="input-text-light" placeholder="key" value="<%- data.parameterkey %>">
  <input type="text" name="parameter-value" id="url" tabindex="5" class="input-text-light" placeholder="value" >
  <br />
  <button class="btn-save" type="button" id="save" onclick="reSource();" style="width: 50px;height: 20px">保存</button>
  <br />
  <% if (data.length) { %>
    <form class="form-inline">
    <% data.forEach(function(name){ %>
      <input type="text" class="input-small" placeholder="Email" value="<%- name %>" style="width: 200px"><br />
    <% }) %>
    </form>
  <% } %>
</form>

<script src="/postman/jquery.min.js" type="text/javascript"></script>
<script src="/postman/showdoc.js" type="text/javascript"></script>

</body>
<% include common/footer.ejs %>
</html>
